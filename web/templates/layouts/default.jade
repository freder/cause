doctype html
html
	head
		meta(charset='utf-8')
		meta(http-equiv='X-UA-Compatible', content='IE=edge')
		title
			block title

		link(href='/bower_components/codemirror/lib/codemirror.css' rel='stylesheet')
		link(href='/bower_components/codemirror/theme/monokai.css' rel='stylesheet')

		style.
			body {
				font-family: sans-serif;
				background: black;
				color: white;
				margin: 0;
			}
	
			hr {
				border: none;
				border-bottom: solid 3px blue;
				margin: 0;
			}

			.CodeMirror {
				height: auto;
				border: solid 2px black;
				max-width: 65em;
			}
			.task-name {
				background: blue;
				color: white;
				padding: 0.2em;
				padding-bottom: 0.1em;
			}
		block css
	body
		block content
		script(src='/bower_components/zepto/zepto.js')
		script(src='/bower_components/codemirror/lib/codemirror.js')
		script(src='/bower_components/codemirror/mode/javascript/javascript.js')
		script(src='/bower_components/codemirror/addon/selection/active-line.js')
		script.
			var elems = document.querySelectorAll('.codemirror');
			for (var i = 0; i < elems.length; i++) {
				var editor = CodeMirror(function(cm_el) {
						elems[i].parentNode.replaceChild(cm_el, elems[i]);
					},
					{
						value: elems[i].value,
						mode: 'javascript',
							json: true,
						theme: 'monokai',
						//- lineNumbers: true,
						styleActiveLine: true
					}
				);
				//- console.log(editor.getValue());
			}

			function run_task(name) {
				$.post('/run/'+name, {}, function(res) {
					console.log(res.ok);
				});
			}
		block js
